# Claude Orchestra Agent Definitions

This directory contains all 117 agent definitions for the Claude Orchestra system. Each agent is a specialized persona with specific capabilities, tools access, and model assignments.

## Directory Structure

```
agents/
‚îú‚îÄ‚îÄ *.md                    # 117 individual agent definition files
‚îî‚îÄ‚îÄ README.md              # This file
```

The parent directory contains:
- `agents.json`            # Compiled manifest of all agents (autogenerated)

## Agent Definition Format

Each agent definition is a Markdown file with YAML frontmatter:

```yaml
---
name: agent-name              # Kebab-case unique identifier
description: Brief description # What the agent does
model: opus|sonnet|haiku      # Claude model to use
tools: Tool1, Tool2, ...      # Comma-separated tools available
---

# Agent persona and capabilities
[Agent documentation content...]
```

### Required Fields

| Field | Purpose | Valid Values |
|-------|---------|--------------|
| `name` | Unique agent identifier | Kebab-case (lowercase, hyphens) |
| `description` | Brief description of the agent | Any string, ~1-2 sentences |
| `model` | Claude model to use | `opus`, `sonnet`, `haiku` |
| `tools` | Comma-separated tools available | Read, Write, Edit, Bash, etc. |

### Model Selection

- **Opus** (1 agent): Strategic decisions, architecture, coordination
  - Chief Architect: System design, agent coordination, high-level decisions

- **Sonnet** (35 agents): Complex reasoning, code review, management
  - Code reviewers, architects, security auditors, test engineers, researchers

- **Haiku** (81 agents): Implementation, documentation, utilities
  - Language specialists, basic documentation, simple utilities

## Agent Manifest

The `agents.json` file (in parent directory) is auto-generated and contains a sorted list of all agents:

```json
[
  {
    "name": "agent-name",
    "model": "sonnet",
    "description": "Description of agent",
    "tools": "Read, Write, Edit, Bash",
    "file_path": "cco/config/agents/agent-name.md"
  }
]
```

**Auto-generated by**: `/tmp/validate_agents.js`
**Updated**: On each validation run
**Purpose**: Used by build.rs to embed agent definitions at compile time

## Agent Statistics

```
Total Agents: 117
‚îú‚îÄ Opus:  1 agent   (0.9%)   - Strategic leadership
‚îú‚îÄ Sonnet: 35 agents (29.9%)  - Intelligent management
‚îî‚îÄ Haiku: 81 agents (69.2%)   - Implementation & utilities
```

## Compile-Time Embedding

Agent definitions are embedded in the binary at build time via `build.rs`:

1. **Discovery**: build.rs reads `agents.json` manifest
2. **Parsing**: Each agent's YAML frontmatter is extracted
3. **Embedding**: Agent definitions included in compiled binary
4. **Runtime**: Agents loaded from embedded definitions (no file I/O)

### For Build System Developers

To update agent definitions:

1. **Add/modify** agent .md files in this directory
2. **Run validation** to update `agents.json`:
   ```bash
   node /tmp/validate_agents.js
   ```
3. **Rebuild** the project:
   ```bash
   cargo build --release
   ```

The build process will automatically:
- Detect new/modified agents
- Validate YAML frontmatter
- Update the embedded definitions
- Fail if any agent is malformed

## Validation

Agent definitions are validated on each compilation:

### Validation Rules

1. **File format**: Must be valid Markdown
2. **YAML frontmatter**: Must be present and properly formatted
3. **Required fields**: name, description, model, tools
4. **Field values**:
   - `name`: Kebab-case (lowercase, hyphens only)
   - `model`: One of: opus, sonnet, haiku
   - `description`: Non-empty string
   - `tools`: Comma-separated list

### Running Validation

```bash
# Validate all agents and update manifest
node /tmp/validate_agents.js

# Output:
# ‚úÖ Valid agents: 117/117
# ‚úÖ All agents passed validation!
# Agent distribution by model:
#   - Opus:  1
#   - Sonnet: 35
#   - Haiku:  81
#   - Total:  117
# üìù Manifest written to: cco/config/agents.json
```

### Common Validation Errors

| Error | Cause | Fix |
|-------|-------|-----|
| Missing YAML frontmatter | File doesn't start with `---` | Ensure file starts with YAML marker |
| Missing 'name' field | Name not specified | Add `name: agent-name` to frontmatter |
| Invalid model | Model is not opus/sonnet/haiku | Use valid model: `model: sonnet` |
| Missing 'tools' field | Tools not specified | Add `tools: Read, Write, Bash` |

## Adding New Agents

To add a new agent:

1. **Create file**: `agents/{agent-name}.md`
   ```markdown
   ---
   name: agent-name
   description: Brief description of what the agent does
   model: sonnet
   tools: Read, Write, Edit, Bash
   ---

   # Agent Persona

   [Detailed agent instructions and capabilities...]
   ```

2. **Validate**: Run `node /tmp/validate_agents.js`
   - Check for validation errors
   - Verify `agents.json` includes your agent

3. **Update build**: Rebuild the project
   - `cargo build --release`
   - Agent will be embedded in binary

4. **Test**: Verify agent is loaded
   - Agent definition available at runtime
   - Agent tools and model are correct

## Agent Categories

Agents are organized by function (though files are stored flat):

### Leadership (1)
- Chief Architect

### Development (25+)
- Language specialists (Python, Go, Rust, Swift, TypeScript, etc.)
- Framework experts (FastAPI, Django, Flask, etc.)
- Frontend developers
- Mobile developers
- Fullstack developers

### Integration (3)
- API Explorer
- Salesforce API Specialist
- Authentik API Specialist

### Infrastructure (10+)
- DevOps Engineer
- Terraform Specialist
- Cloud Architect
- Network Engineer
- Deployment Engineer

### Quality & Security (15+)
- Security Auditor
- Test Engineer
- Code Reviewer
- Penetration Tester
- Compliance Specialist

### Research & Analysis (20+)
- Technical Researcher
- Data Scientist
- ML Engineer
- Business Analyst

### Documentation (5+)
- Technical Writer
- Documentation Expert
- API Documenter
- Markdown Formatter

### Utilities (15+)
- Git Flow Manager
- Dependency Manager
- DX Optimizer
- Monitoring Specialist

## Best Practices

### For Agent Developers

1. **Keep descriptions concise**: 1-2 sentences, max 160 characters
2. **List all required tools**: Include every tool the agent needs
3. **Choose right model**:
   - Opus: Only for Chief Architect (strategic decisions)
   - Sonnet: Complex work (architecture, security, management)
   - Haiku: Implementation, basic documentation, utilities
4. **Test agent definitions**: Run validation before committing
5. **Document agent capabilities**: Use clear, concise language

### For Integration with build.rs

1. **Keep JSON manifest up-to-date**: Run validation after changes
2. **Validate before compilation**: Catch errors early
3. **Embed at build time**: Definitions included in binary
4. **No runtime file I/O**: All definitions are embedded

## Version History

- **v1.0.0** (Nov 15, 2025): Initial 117-agent set copied from ~/.claude/agents/
  - 1 Opus agent (Chief Architect)
  - 35 Sonnet agents (intelligent managers, reviewers)
  - 81 Haiku agents (implementation, utilities)
  - All agents validated and organized for compile-time embedding

## References

- Main orchestrator: `/Users/brent/git/cc-orchestra/`
- Configuration: `config/agents.json`
- Build system: `cco/build.rs`
- Validation script: `/tmp/validate_agents.js`

---

**Last Updated**: November 15, 2025
**Total Agents**: 117
**Format Version**: 1.0
**Status**: All agents validated and ready for embedding
